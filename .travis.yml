language: node_js
node_js: 8.10.0
install:
- npm install
- npm run decrypt-variables -- $SECRETS_ENCRYPTION_KEY
addons:
  apt:
    packages:
    - sshpass
deploy:
  provider: script
  script: /bin/bash scripts/deploy.sh
  on:
    branch: master
script:
- npm t
env:
  global:
  - secure: KDBBiOBdi2VSQTaldReSmYDK4AOeD7T6RcKAukeK0qmbXFxD/L6bNj5jwSW+tTASRGDL0sAIXRmdiC9HGGq8CKH4fJqulT97eVy+cjko8dBNQseiCcvRHXeJh/ZNU3Xd1JU1Lh5ACYcYGnVryn/E08Mb+j+KNcVNZEbA9SYYzcpO7w76ZMOY1m817smnTWxG6Xx23BsEe7cQm4SdFC2HNzsFt71g5Qx8X/pOlDqteXbrc5d5HEb1FdiDcg8wtIZPVV1oKLsX2CNN5EX+s7Xp+Cu3Vx9t11yAVLhuSOu3iK0WIFm4btVCI2aM1eMldFydH1kcSbA0uXG++62025nx+9M5PBFZeQWsJA/9sXkO6PlJJFFCbl1EAw1R5o4COHXZ3AItpOpC89AM7WDlkamyEpPFYd9xnroKyfei/7sQP1h/3w1JHsSO8b9jDZ18IYpoGX5DwpUpfCfedxbVF9i5Oq5n0VxXmCQvJ+18gNy+Hca7HoUnKA5DHcBCFjqiNLwmtE8a/T3qYXlF46aFt4ekTc9dMxvAFqGMs5eN5c0IWQ2CJWxD4uzJeAu9EOPqgzfEvWSvN2bFKQkqt0sDsblEM4kIr5Jjy1Ihndd5dy8o80gAMm9xvmmnlHveKKswYrgvwoJ73qasCiVy83tGbIbAetXqehAxLdeP5Dh0WwjCuDE=
  - secure: Yuijq7CD24ZcV2dLy2JAhSzxsx17ZqWCEMQLT4NlNQBwo2LVfSwlsnd8DhP/Tl2LM0hraZMAbc9B0tbDFpIuQjWsOdt7yj/Cl3qOutEgDIoPasv7j9ATP4gr7BJzpqs+jssLHYcW17hPvB9acxC+h70vqo2uFxx+PDBuMvcimnDyn53QJLnTLfNZYldrNV+Ip/Zqdps7IzSMOXU2rvNFRdPuNeG3pKRdymAyz43lOoKkehMk29JAHd9P1UPxyogGFKdAqz4YfKAne52+3XMUPnRHuoldWyWYa2bI6/6BLVSpG812bQ28E6VR1cpNRiZV6/m+hpmEXZHDSNF1IC+DCrBxmF3u0pOzhfGgc/VoE7tglQKbcyKcalfLSi13suSblhmiQMIDGf09NzfRnC0H7cLyJBYR3A7GSY+m2kQVLqeb1yuRFCkMkmW+cwaXh4FP0FnZXyouZJbbckZXBdbqXz+MnY/ymYZXs5H4ooR2/EtKI8A/cj5o21bwJYGAMLbSv7gWiMnLu1vLLCYL/QV80Voqav0saa7Ik7wQnq/vTvddZUZRf0a6QAWhD0lnCzFhJduHR7I+fYb+tB6CB74jswjuelNfuga2HLbfIclRgpv1e6B56yMuoFTZgCumg0cSczxUmaGsbAHhfpkuurp7ja2rUiKMV2KfTpa0mjnQERk=
  - secure: eF6ZVlzLN1oXFjdyuSfDmEG4kZ8OWVHc/9GV4h9g6KH93UHmgIERreB+hdTtC9la1xh8KqnCJY+7K151Aozt3JAQ9lOxTjQUIGUM5v+7MWoUQ0QNSbR4X9z5Il1FFhmMfDA4lmBoz2Rydtrw+F5u5hk/60AMzz5SfzRjcAjIWjtUFrlKjUAuF/C3l3idggZPRnkVpmo/BlILFcXMu2M4wChtIYVGZ+B/9fyZX79eVaU2WxmnRpPx62xuUNSrTFDHCVXPeo+y/7y71Dt9JcsR5eHbj4ypKheZQGh7IXnKtCEr9Z2nB8+OtmOyxjt1yyUbmO1WgCRUNoqOywdMsNgS6qvYLpWq2aGh48+DsDAOnYzzvKB3c234SXtfnBDlhAwY7CM+8cCM3OgaFAdVdKqKAkCGtQfsKQaCC3PpP4HAY5Jw6rgDIVdiL29ym8ke3L7VcOSC9k/Suac5DI1niTbnN/s//7YvfFRHIewWYrYUelKjylTA9+ORNIvNvYfHTpFUrwg202UGtXshVL1Sqb05SpmtssEfWpIb3uttwGuETHBJTg3Mcwu6rdwOXlTDgPPdNjYTJLGRLefVgN9ayOUTVO/gUeXmdo7Xo6vrepFCHl9Lw5XR6S032hoH7NceRcplY9+8a3bxR/dqHbEQeIVmqn7BuY17hih+1ir3Pvr0pww=
  - secure: MsMDCSVuUdU/rjMP58Ih9VJhU5EHJOcTpZ0Ww9AgnPzZSBs5Tq7XBoH8NqrESZT6l0CJz2g+vePENrSa7K7HmdFg9Ykck+/Hy646DT/zYM9Wb/kiQqkMfo6tElwdE4HUx9zQYXUJxrcwYS602JyDqZBsmWOrHyLPwVwJ/tLfSOWva3ntnZiXrr/j4j3voaiT7NdwSQasRepEW5uYBJvasIxQXWmZC9F8l5hCUuoOUx08vqVDvS2apIDqZyYCKOIuXZkGXWnuyf8wKQs7gCrxSGHuITHCtPoOg9kVBDgIk/ADikZJQlzQ5HKx6e6/UEkZLeTp0LK9cpUBS4u1sPKk703+qj9s1u2UPMRdP23cnwOHeTAKemXoA8cbFmEOPMflqTga0mU7YnAgpkFcANcugKtKJ1dF0rbWOj4POAs8EHWMK1o0Tl3QseBzgwnaa8DHwtOG8/y35QNLAOWrlR0KtzS8WATBuJDC937IL1GlM9fKlu07Bmqu8GfGzpto8hQ2QhjJjgAb6B94K4rrS/3IJoioY8ShQimvMDUrDf8Q3kDMeI2wC2GGlvXewXZWCN63QR5Vjw5R+BATJFBAicr+KeVwSLDNcDUdefyL3vJ6fmzd4OcZeewDH610tagV1L8NMzbW/Pa4SbodE8BXfQ8aL1pzDf00OkYQ1vJUrfxGwoc=
  - secure: OBYoLNLIjznSLVtlWUZkCul4uqm2j4OGKOXIzHNbxcwAfJFXY3q4RQbTU7LGjeNgecXqaZL8FqeCup9PMA3v82wYXjjKJrQo3BmM8NGoaqlSu2LlNaMH7ZXIEvPk2urySPoRNCgBc/0lRTPtebZLGShey47Crn0o1WjF7MSwNeDzjjz1cTJYR25Zv6JpjV3TgkTMhlA7byP0MKyvgH0XoS64h1L9d4+y6KzBI+5teO5CXcF1VzP3N/EFrk3T/sAQLjdNfXO656xAYiSe7jlioS3foN5cbZPYw6x2k70PPrgkh5WT9Va2IPUITvqtE887W9QqfQl7BJU3Bn0LX6suEfYCh77XJ+K4lSp17fhSmGZLGsKExbzypHmpWIO7ZPacEw5cQ9EicCZ5BI0mMiILHPgR73wD1JtLNOo9XCjNrCQDt+MdlMLLIdW0yoB7tsp4dky7J0GhyTI095yTiVt8djj6i61Ui+pcNWLdzSsUnulrzui7aV09IUOJjVrQ2MxF3eIgCbx2rFHlkjJnjQ7nAHvdZGq45HKPH52pfVPAf1334tImbeyyqYrQnVuse0pEGNnzAdiJTkSkXX5n3CtdUaujRw4Hytrd6qIxZ6LXuDIds5nEnBdqrylT3K870YAopDLLifKquGHdu0MOoYnATVRPDlsqoYcbn9rUSBavmEE=
  - secure: pxJhBNy9YEjsIdCl+6yxHURIqQRcHgavmY9RJ9EPeVe6/OJeU+XdTR/6jwyPopSISqC4UsLXdGtxZsHcYZBtQ3H69YF4Rywq9TK29U2GLQQ5IjtgwjJisbwglm4lXHX6x31HIfjuUx491lRgBtyPjssAwVP3Bxg1D6J9iLx3fr2rm0x2PhF6l08HkBqQkGgbwS9RNGSV1+FM3sB+CF+EWxNef/wMGN+1Lyvqxh+f1M6NvxHttZyZlcUMEFsdfAqKFBhWV7ZBxuG4b8Yxn1Y3tX0zwWOOMLzd7Ivq7FEPbV0o5jrTChtntsAHoQzQ9QxTguJcRCMvDMgYur8ibkkeiAr0sGjMHfdY/otFQ7XvHmb2Wzf7GHSpkNJHqLCSYSRAuRtS4S9tVZmHwe+t/XF/22JJ/7hn1KYve0joq6hoQeGFTXRSY+5qPmy970NzXBwnahExYDnkslHnRP5j97uerTpVTy6NgziBszdHfQw4icq8iyoSCcGP3sG7qmiSWyn5TGQmb/6aST2supVFAgb9bCsypVOn+DnPmQOPBMeLQ0r1tNneHG0+7ihiUlE6qc/KuBM/NtGjU21Hw406bexWAmNd/OVs9F94N6YO62lwy8tVH8cOhauOvXR/p1Nd6z6yZ1DaR5ANK/w83GyqOAvH5LZzUWBcTQ8V4md6GAr9AgE=
